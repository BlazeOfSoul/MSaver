<div class="flex flex-column align-items-center mt-6">
    <div class="flex justify-content-between w-8">
        <h2 class="mb-4 font-bold">Добрый день, {{ user.username }}</h2>

        <button
            pButton
            type="button"
            label="Добавить транзакцию"
            (click)="openTransactionDialog()"
            class="mb-3"
        ></button>
    </div>

    <app-transaction-dialog
        [(visible)]="isTransactionDialogVisible"
        [categories]="categories"
        (submit)="handleTransactionSubmit()"
        (close)="handleTransactionDialogClose()"
    />

    <div class="summary-container">
        <app-summary-card
            title="Доходы"
            [value]="income"
            backgroundColor="rgba(0, 128, 0, 0.2)"
            textColor="#005500"
        ></app-summary-card>

        <app-summary-card
            title="Баланс"
            [value]="balance"
            backgroundColor="rgba(255, 215, 0, 0.3)"
            textColor="#b8860b"
            [scale]="1.3"
        ></app-summary-card>

        <app-summary-card
            title="Расходы"
            [value]="expenses"
            backgroundColor="rgba(255, 0, 0, 0.2)"
            textColor="#990000"
        ></app-summary-card>
    </div>

    <div class="exchange-rate-container">
        <div class="exchange-table-block">
            <div class="table-title">
                <i class="pi pi-money-bill mr-2"></i>
                Курсы валют
            </div>
            <p-table [value]="fiatRates" class="rate-table w-full" responsiveLayout="scroll">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Валюта</th>
                        <th>Курс к BYN</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rate>
                    <tr>
                        <td>{{ rate.currency }}</td>
                        <td>{{ rate.rateValue }}</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>

        <div class="exchange-table-block">
            <div class="table-title">
                <i class="pi pi-bitcoin mr-2"></i>
                Криптовалюты
            </div>
            <p-table [value]="cryptoRates" class="rate-table w-full" responsiveLayout="scroll">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Криптовалюта</th>
                        <th>Курс к USD</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-crypto>
                    <tr>
                        <td>{{ crypto.currency }}</td>
                        <td>{{ crypto.rateValue }}</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>
